Installation
============

Each project is separate and has its own description ('README.md'),
license, installing instructions, etc. and can be built in its 
own subfolder. Despite the projects not depending on each other, 
a script is provided to compile and install all the binaries.

  $ ./scripts/install_stmm-input-xi-all.py  --help

for a description of all available options.

But before calling the install script, googletest must be setup.
If you cloned the repository with git, call

  $ git submodule update --init --recursive

if you downloaded the zip file and you already have the googletest sources, call

  $ ./scripts/googletest_create_links.py --google-src-dir=/path/to/googletest/dir


Install script usage example:

  $ ./scripts/install_stmm-input-xi-all.py  -b Debug  --destdir /usr/local

Compiles (debug mode) and installs all libraries and the executable
to the directory (prefix) '/usr/local'.
The first parameter can also be 'Release', 'MinSizeRel' or 'RelWithDebInfo'
(see cmake documentation).
The second parameter can be omitted ('/usr/local' is the default).

If you want to determine the compiler that the scripts should use,
set the variable CXX (g++ is the preferred compiler). Ex.:

  $ export CXX=g++

If you want to add compiler options, define variable STMM_CPP_OPTIONS.
Ex. (-Wsuggest-override is g++ only):

  $ export STMM_CPP_OPTIONS="-Wsuggest-override -Werror"

If you want to define "make" options, set variable STMM_MAKE_OPTIONS.
Ex. (speed up compilation by using at most 2 CPUs):

  $ export STMM_MAKE_OPTIONS="--jobs=2"

If you want to install to your home folder (~/usr) instead of system wide

  $ ./scripts/install_stmm-input-xi-all.py  --destdir /home/myname/usr  --no-sudo

and make sure needed bash environment variables are set before the call

  # for the library loader
  export LD_LIBRARY_PATH=/home/myname/usr/lib
  # for pkg-config
  export PKG_CONFIG_PATH=/home/myname/usr/lib/pkgconfig
  # for g++ linker
  export LIBRARY_PATH=/home/myname/usr/lib
  # to find executable
  export PATH=/home/myname/usr/bin:$PATH

Beware: installing in a non sytem directory might cause plugins to not be
found by the libstmm-input-dl library.


Uninstallation
==============

For all the available options

  $ ./scripts/uninstall_stmm-input-xi-all.py --help

Usage example:

  $ ./scripts/uninstall_stmm-input-xi-all.py  -y  -b

uninstalls from installation dir "/usr/local" without confirmation and
removes the build subfolder of each project.


Dependencies
============

- libstmm-input-gtk-xi
    + libstmm-input-ev
    + libstmm-input-gtk
    + libxi-dev
    + libx11-dev

- device-floater     depends on
    + libgtkmm-3.0-dev
    + libxi-dev
    + libx11-dev

Note: in some linux distributions the packages might be named slightly
differently (the trailing '-dev' might be '-devel' or not needed at all).


Needed packages
===============
To build the source files you need a g++ compatible c++14 compiler and cmake.
To build the documentation you need doxygen and graphviz.
To build the tests you need googletest (it is downloaded as a git submodule).
To run the scripts you need python3.
